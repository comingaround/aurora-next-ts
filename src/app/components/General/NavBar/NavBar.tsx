"use client";
import { useState, useEffect } from 'react';
import styles from "./NavBar.module.css";
import Link from 'next/link';
import { usePathname } from 'next/navigation';

export default function NavBar() {
    const [NavVisible, setNavVisible] = useState(false);
    useEffect(() => {
        const handleResize = () => setNavVisible(window.innerWidth > 768);
        handleResize();
        window.addEventListener('resize', handleResize);
        return () => window.removeEventListener('resize', handleResize);
    }, []);

    const pathname = usePathname();
    const isActive = (path: string) => pathname === path ? styles.activePath : '';

    return(
        <div className={styles.NavBar}>
            <div className={styles.LogoDesk}>
                <svg xmlns="http://www.w3.org/2000/svg" width="159" height="22" viewBox="0 0 159 22" fill="none">
                    <path d="M86.8356 7.57868C87.3227 4.50629 89.908 1.09668 94.9662 1.09668C101.373 1.09668 103.134 4.9559 103.134 9.11487V16.571C103.134 18.0323 103.209 19.9057 103.434 21.0298H99.0128C98.9379 20.2804 98.9004 19.531 98.9004 18.7442V17.845H98.8629C98.226 19.4186 96.5774 21.5168 92.7181 21.5168C88.3344 21.5168 85.8989 18.8191 85.8989 15.7467C85.8989 10.3888 92.4559 9.93917 95.266 9.48956C97.7389 9.11487 98.8629 8.62779 98.8629 6.97919C98.8629 5.44299 97.4017 4.46882 95.0412 4.46882C92.943 4.46882 91.4067 5.6678 90.9571 7.57868H86.8356ZM90.2078 15.5969C90.2078 17.1331 91.5192 18.2571 93.8047 18.2571C96.39 18.2571 98.9379 16.646 98.9379 12.0374V10.0141C98.5257 11.1007 97.5141 12.0374 94.2169 12.6744C91.5566 13.1614 90.2078 13.9857 90.2078 15.5969Z" fill="#0E0E0E"/>
                    <path d="M79.6376 1.65878V5.25572C80.6492 2.55801 82.6725 1.5089 85.4452 1.47144V5.59294C85.2203 5.59294 84.0963 5.59294 83.4968 5.78028C81.5859 6.15496 79.7125 7.1666 79.7125 12.1873V21.0298H75.3662V1.65878H79.6376Z" fill="#0E0E0E"/>
                    <path d="M62.7101 21.5542C56.9774 21.5542 52.7061 17.4327 52.7061 11.3629C52.7061 5.293 56.9774 1.13403 62.7101 1.13403C68.4052 1.13403 72.6766 5.293 72.6766 11.3629C72.6766 17.4327 68.4052 21.5542 62.7101 21.5542ZM56.94 11.3629C56.94 15.0347 59.2255 18.0322 62.7101 18.0322C66.1571 18.0322 68.4427 15.0347 68.4427 11.3629C68.4427 7.6535 66.1571 4.65604 62.7101 4.65604C59.2255 4.65604 56.94 7.6535 56.94 11.3629Z" fill="#0E0E0E"/>
                    <path d="M45.9735 1.65878V5.25572C46.9852 2.55801 49.0084 1.5089 51.7811 1.47144V5.59294C51.5563 5.59294 50.4322 5.59294 49.8327 5.78028C47.9219 6.15496 46.0485 7.1666 46.0485 12.1873V21.0298H41.7021V1.65878H45.9735Z" fill="#0E0E0E"/>
                    <path d="M20.7866 13.7609V1.65869H25.0955V12.8617C25.0955 15.8591 26.0696 17.8075 28.8048 17.8075C31.4651 17.8075 33.4883 15.4845 33.4883 10.6511V1.65869H37.8347V21.0298H33.5633V17.6201C32.5142 19.8308 30.7532 21.5543 27.7557 21.5543C22.6975 21.5543 20.7866 18.2196 20.7866 13.7609Z" fill="#0E0E0E"/>
                    <path d="M0.936705 7.57868C1.42379 4.50629 4.0091 1.09668 9.0673 1.09668C15.4744 1.09668 17.2354 4.9559 17.2354 9.11487V16.571C17.2354 18.0323 17.3103 19.9057 17.5351 21.0298H13.1139C13.0389 20.2804 13.0015 19.531 13.0015 18.7442V17.845H12.964C12.327 19.4186 10.6784 21.5168 6.81921 21.5168C2.43543 21.5168 0 18.8191 0 15.7467C0 10.3888 6.55693 9.93917 9.36705 9.48956C11.84 9.11487 12.964 8.62779 12.964 6.97919C12.964 5.44299 11.5027 4.46882 9.14224 4.46882C7.04402 4.46882 5.50782 5.6678 5.05821 7.57868H0.936705ZM4.30884 15.5969C4.30884 17.1331 5.62023 18.2571 7.90579 18.2571C10.4911 18.2571 13.0389 16.646 13.0389 12.0374V10.0141C12.6268 11.1007 11.6151 12.0374 8.31794 12.6744C5.6577 13.1614 4.30884 13.9857 4.30884 15.5969Z" fill="#0E0E0E"/>
                    <path d="M122.171 6.68049C124.172 4.56265 126.547 2.88255 129.161 1.73624C131.774 0.589942 134.576 0 137.405 0C140.234 0 143.035 0.589942 145.649 1.73624C148.263 2.88256 150.638 4.56264 152.639 6.68049C154.639 8.79851 156.226 11.313 157.308 14.0803C158.232 16.4399 158.773 18.9439 158.912 21.4874H152.255C151.988 12.614 145.31 5.51003 137.111 5.51003C128.912 5.51003 122.234 12.614 121.967 21.4874H115.897C116.037 18.9439 116.578 16.4399 117.501 14.0803C118.584 11.313 120.171 8.79851 122.171 6.68049Z" fill="#0E0E0E"/>
                </svg>
            </div>
            <ul className={styles.NavList} style={{ opacity: NavVisible ? '1' : '0', visibility: NavVisible ? 'visible' : 'hidden', transition: 'opacity 0.1s linear, visibility 0.1s linear 0.2s' }}>
                <div className={styles.LogoMob}>
                    <svg xmlns="http://www.w3.org/2000/svg" width="97" height="22" viewBox="0 0 97 22" fill="none">
                        <path d="M52.9025 9.37527C53.1772 7.64259 54.6352 5.71973 57.4878 5.71973C61.1011 5.71973 62.0942 7.89615 62.0942 10.2416V14.4465C62.0942 15.2706 62.1365 16.3271 62.2633 16.9611H59.7699C59.7276 16.5385 59.7065 16.1158 59.7065 15.6721V15.165H59.6854C59.3261 16.0525 58.3964 17.2358 56.22 17.2358C53.7477 17.2358 52.3743 15.7144 52.3743 13.9817C52.3743 10.96 56.0721 10.7065 57.6568 10.4529C59.0514 10.2416 59.6854 9.96692 59.6854 9.03719C59.6854 8.17084 58.8613 7.62146 57.5301 7.62146C56.3468 7.62146 55.4804 8.29763 55.2269 9.37527H52.9025ZM54.8043 13.8972C54.8043 14.7635 55.5438 15.3974 56.8328 15.3974C58.2908 15.3974 59.7276 14.4888 59.7276 11.8898V10.7487C59.4952 11.3615 58.9247 11.8898 57.0652 12.249C55.5649 12.5237 54.8043 12.9886 54.8043 13.8972Z" fill="#0E0E0E"/>
                        <path d="M48.8434 6.0368V8.06531C49.4139 6.54393 50.555 5.95228 52.1186 5.93115V8.25549C51.9918 8.25549 51.3579 8.25549 51.0198 8.36114C49.9422 8.57244 48.8857 9.14296 48.8857 11.9744V16.9612H46.4346V6.0368H48.8434Z" fill="#0E0E0E"/>
                        <path d="M39.2973 17.257C36.0644 17.257 33.6555 14.9327 33.6555 11.5095C33.6555 8.08643 36.0644 5.74097 39.2973 5.74097C42.5091 5.74097 44.918 8.08643 44.918 11.5095C44.918 14.9327 42.5091 17.257 39.2973 17.257ZM36.0432 11.5095C36.0432 13.5803 37.3322 15.2707 39.2973 15.2707C41.2413 15.2707 42.5303 13.5803 42.5303 11.5095C42.5303 9.41764 41.2413 7.72722 39.2973 7.72722C37.3322 7.72722 36.0432 9.41764 36.0432 11.5095Z" fill="#0E0E0E"/>
                        <path d="M29.8586 6.0368V8.06531C30.4291 6.54393 31.5701 5.95228 33.1338 5.93115V8.25549C33.007 8.25549 32.3731 8.25549 32.035 8.36114C30.9573 8.57244 29.9008 9.14296 29.9008 11.9744V16.9612H27.4497V6.0368H29.8586Z" fill="#0E0E0E"/>
                        <path d="M15.6541 12.8617V6.03662H18.084V12.3546C18.084 14.045 18.6334 15.1438 20.1759 15.1438C21.6762 15.1438 22.8172 13.8337 22.8172 11.1079V6.03662H25.2683V16.961H22.8595V15.0381C22.2678 16.2848 21.2747 17.2568 19.5843 17.2568C16.7317 17.2568 15.6541 15.3762 15.6541 12.8617Z" fill="#0E0E0E"/>
                        <path d="M4.4599 9.37527C4.73459 7.64259 6.19258 5.71973 9.04518 5.71973C12.6585 5.71973 13.6516 7.89615 13.6516 10.2416V14.4465C13.6516 15.2706 13.6938 16.3271 13.8206 16.9611H11.3273C11.285 16.5385 11.2639 16.1158 11.2639 15.6721V15.165H11.2427C10.8835 16.0525 9.95378 17.2358 7.77736 17.2358C5.30511 17.2358 3.93164 15.7144 3.93164 13.9817C3.93164 10.96 7.62945 10.7065 9.21422 10.4529C10.6088 10.2416 11.2427 9.96692 11.2427 9.03719C11.2427 8.17084 10.4186 7.62146 9.08744 7.62146C7.90414 7.62146 7.0378 8.29763 6.78423 9.37527H4.4599ZM6.36163 13.8972C6.36163 14.7635 7.10119 15.3974 8.39014 15.3974C9.84813 15.3974 11.285 14.4888 11.285 11.8898V10.7487C11.0526 11.3615 10.482 11.8898 8.62257 12.249C7.12232 12.5237 6.36163 12.9886 6.36163 13.8972Z" fill="#0E0E0E"/>
                        <path d="M72.8308 8.86881C73.959 7.67444 75.2984 6.72694 76.7725 6.08048C78.2465 5.43402 79.8264 5.10132 81.4219 5.10132C83.0174 5.10132 84.5973 5.43402 86.0713 6.08048C87.5453 6.72695 88.8848 7.67443 90.013 8.86881C91.1411 10.0633 92.036 11.4813 92.6466 13.0419C93.1672 14.3727 93.4724 15.7848 93.551 17.2192H89.7969C89.6462 12.215 85.8801 8.20872 81.2562 8.20872C76.6324 8.20872 72.8663 12.215 72.7156 17.2192H69.2927C69.3713 15.7848 69.6765 14.3727 70.1972 13.042C70.8078 11.4813 71.7027 10.0633 72.8308 8.86881Z" fill="#0E0E0E"/>
                    </svg>
                    <div className={styles.BurgerOff} onClick={() => setNavVisible(false)}>
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none">
                        <path d="M18 6L6 18" stroke="#0E0E0E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M6 6L18 18" stroke="#0E0E0E" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                    </div>
                </div>
                <Link href="/" className={isActive('/')}>
                    <li>Collections</li>
                    <p>-&gt;</p>
                </Link>
                <Link href="/about" className={isActive('/about')}>
                    <li>Wedding Registry</li>
                    <p>-&gt;</p>
                </Link>
                <a href="">
                    <li>Free Design Service</li>
                    <p>-&gt;</p>
                </a>
                <a href="">
                    <li>Trade Program</li>
                    <p>-&gt;</p>
                </a>
                <div className={styles.LoginButton}>
                    <a href="#">Login</a>
                </div>
            </ul>
            <ul className={styles.NavIcons}>
                <a href="">
                <li>
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M10.97 19.19C6.43 19.19 2.75 15.51 2.75 10.97C2.75 6.43 6.43 2.75 10.97 2.75C15.51 2.75 19.19 6.43 19.19 10.97C19.19 15.51 15.51 19.19 10.97 19.19Z" stroke="#0E0E0E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M21.2496 21.2499L17.1396 17.1399" stroke="#0E0E0E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </li>
                </a>
                <a href="">
                <li>
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M16.1111 3C19.6333 3 22 6.3525 22 9.48C22 15.8138 12.1778 21 12 21C11.8222 21 2 15.8138 2 9.48C2 6.3525 4.36667 3 7.88889 3C9.91111 3 11.2333 4.02375 12 4.92375C12.7667 4.02375 14.0889 3 16.1111 3Z" stroke="#0E0E0E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </li>
                </a>
                <a href="">
                <li>
                    <svg width="22" height="24" viewBox="0 0 18 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M14.1596 5.88989H3.8296C2.7596 5.88989 1.87961 6.69989 1.77961 7.76989L0.969614 17.0199C0.859614 18.2199 1.8096 19.2599 3.0196 19.2599H14.9796C16.1896 19.2599 17.1296 18.2299 17.0296 17.0199L16.2196 7.76989C16.1196 6.69989 15.2296 5.88989 14.1596 5.88989Z" stroke="#0E0E0E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M13.1096 8.97V4.86C13.1096 2.59 11.2696 0.75 8.99963 0.75C6.72963 0.75 4.88965 2.59 4.88965 4.86V8.97" stroke="#0E0E0E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                        <path d="M6.42969 13.0801L8.13971 14.8001L11.5697 11.3701" stroke="#0E0E0E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </li>
                </a>
                <a href="" className={styles.LoginIcon}>
                <li>
                    <svg width="28" height="28" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M20 21C20 19.6044 20 18.9067 19.8278 18.3389C19.44 17.0605 18.4395 16.06 17.1611 15.6722C16.5933 15.5 15.8956 15.5 14.5 15.5H9.5C8.10444 15.5 7.40665 15.5 6.83886 15.6722C5.56045 16.06 4.56004 17.0605 4.17224 18.3389C4 18.9067 4 19.6044 4 21M16.5 7.5C16.5 9.98528 14.4853 12 12 12C9.51472 12 7.5 9.98528 7.5 7.5C7.5 5.01472 9.51472 3 12 3C14.4853 3 16.5 5.01472 16.5 7.5Z" stroke="#0E0E0E" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
                    </svg>
                </li>
                </a>
                <div className={styles.BurgerOn} onClick={() => setNavVisible(true)}>
                    <svg width="30" height="30" viewBox="0 0 20 20" fill="none" xmlns="http://www.w3.org/2000/svg">
                        <path d="M2.5 5.83325H17.5" stroke="#0E0E0E" strokeWidth="1.25" stroke-linecap="round"/>
                        <path d="M2.5 10H17.5" stroke="#0E0E0E" strokeWidth="1.25" stroke-linecap="round"/>
                        <path d="M2.5 14.1667H17.5" stroke="#0E0E0E" strokeWidth="1.25" stroke-linecap="round"/>
                    </svg>
                </div>
            </ul>
        </div>
    );
}
